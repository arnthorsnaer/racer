#!/usr/bin/env bun
/**
 * Automated demo script for Racer
 *
 * This script displays information about the Racer typing game
 * without requiring user interaction. Perfect for:
 * - GitHub Actions workflow recordings
 * - Automated demonstrations
 * - CI/CD screenshots
 *
 * Usage:
 *   bun run demo.ts
 *   node --loader ts-node/esm demo.ts
 */

const DEMO_DURATION = 5000; // 5 seconds

/**
 * Display a formatted banner with game information
 */
async function runDemo() {
  console.clear();

  // Display banner with colors
  console.log('\x1b[1;36mâ•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—\x1b[0m');
  console.log('\x1b[1;36mâ•‘                                        â•‘\x1b[0m');
  console.log('\x1b[1;36mâ•‘         \x1b[1;33mRACER - Typing Game\x1b[1;36m         â•‘\x1b[0m');
  console.log('\x1b[1;36mâ•‘                                        â•‘\x1b[0m');
  console.log('\x1b[1;36mâ•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\x1b[0m');
  console.log('');
  console.log('\x1b[1;32mâœ¨ Welcome to Racer! âœ¨\x1b[0m');
  console.log('');
  console.log('An interactive terminal typing game designed');
  console.log('for learning the Icelandic alphabet.');
  console.log('');

  console.log('\x1b[1;33mðŸŽ® Features:\x1b[0m');
  console.log('  â€¢ Full Icelandic alphabet support');
  console.log('    (Ã¡, Ã°, Ã©, Ã­, Ã³, Ãº, Ã½, Ã¾, Ã¦, Ã¶)');
  console.log('  â€¢ Multiple difficulty levels');
  console.log('  â€¢ Real-time character matching');
  console.log('  â€¢ Sound effects and scoring system');
  console.log('  â€¢ Adaptive difficulty progression');
  console.log('  â€¢ Performance statistics tracking');
  console.log('');

  console.log('\x1b[1;33mâŒ¨ï¸  Controls:\x1b[0m');
  console.log('  â€¢ Type characters to match falling letters');
  console.log('  â€¢ F1 - Toggle sound on/off');
  console.log('  â€¢ Ctrl+C - Quit game');
  console.log('  â€¢ Y/N - Continue or end after completing word');
  console.log('');

  console.log('\x1b[1;33mðŸš€ Quick Start:\x1b[0m');
  console.log('  \x1b[36mnpm install\x1b[0m          # Install dependencies');
  console.log('  \x1b[36mnpm start\x1b[0m            # Start the game');
  console.log('  \x1b[2m# or\x1b[0m');
  console.log('  \x1b[36mbun run index.ts\x1b[0m     # Run with Bun');
  console.log('');

  console.log('\x1b[1;33mðŸ“¦ Project Info:\x1b[0m');
  console.log('  â€¢ Language: TypeScript');
  console.log('  â€¢ Runtime: Node.js / Bun');
  console.log('  â€¢ Testing: Vitest');
  console.log('  â€¢ Architecture: Clean/Hexagonal');
  console.log('');

  console.log('\x1b[2mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\x1b[0m');
  console.log('\x1b[2mDemo recording â€¢ Generated by GitHub Actions\x1b[0m');
  console.log('');

  // Keep output visible for the specified duration
  await new Promise(resolve => setTimeout(resolve, DEMO_DURATION));

  console.log('\x1b[1;32mâœ“ Demo complete!\x1b[0m');
}

// Run the demo and handle any errors
runDemo()
  .then(() => process.exit(0))
  .catch((error) => {
    console.error('\x1b[1;31mDemo error:\x1b[0m', error);
    process.exit(1);
  });
